(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(19),i=n.n(o),s=(n(116),n(117),n(43)),u=n(10),l=n(27),d=n.n(l),j=n(36),p=n(59),b=n.n(p),f="".concat(window.location.protocol,"//").concat(window.location.hostname);function h(e,t){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/download/request",e.next=3,b.a.post("".concat(f).concat("/download/request"),{url:t,format:n});case 3:return a=e.sent,e.abrupt("return",a.data.id);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/downloads/".concat(t,"/status"),e.next=3,b.a.get("".concat(f).concat(n));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return w.apply(this,arguments)}function w(){return(w=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/downloads",e.next=3,b.a.get("".concat(f).concat("/downloads"));case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/downloads/".concat(t,"/delete"),e.next=3,b.a.get("".concat(f).concat(n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e.mp3="mp3"}(a||(a={}));var y=n(99),k=n(198),N=n(70),C=n(13),I=n(206),E=n(202),L=n(204),U=n(2);function S(e){var t=e.onClick,n=e.error;return Object(U.jsx)(L.a,{disabled:n,id:"convert-button",color:"primary",onClick:t,variant:"contained",children:"Convert"})}var W=n(201);function _(e){var t=e.setUrl,n=e.onEnter,a=e.error;return Object(U.jsx)("div",{className:"UrlInput",children:Object(U.jsx)(W.a,{className:"UrlTextField",error:a,onKeyDown:function(e){"Enter"===e.key&&n()},id:"url-input",label:"Video URL",onChange:function(e){t(e.target.value)},variant:"outlined",helperText:"Enter some URL (e.g. https://www.youtube.com/watch?v=dQw4w9WgXcQ) "})})}var A=function(e){var t=e.onConvert,n=c.a.useState(""),r=Object(C.a)(n,2),o=r[0],i=r[1],s=c.a.useState(!1),u=Object(C.a)(s,2),l=u[0],d=u[1],j=function(){var e=a.mp3;t(o,e)},p=c.a.useMemo((function(){return!function(e){var t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}(o)&&!(""===o)}),[o]);return Object(U.jsxs)("div",{className:"InputView",children:[Object(U.jsx)("p",{className:"InsertText",children:"Please insert url"}),Object(U.jsx)(_,{error:p,setUrl:i,onEnter:j}),Object(U.jsx)(I.a,{control:Object(U.jsx)(E.a,{checked:l,onChange:function(){d((function(e){return!e}))}}),label:"As video"}),Object(U.jsx)(S,{error:p,onClick:j})]})},D=Object(y.a)({palette:{primary:{main:N.a[500]},text:{secondary:"rgba(255,255,255,0.82)"}},typography:{button:{fontWeight:600}}});var R=function(){function e(){return(e=Object(j.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,n);case 2:a=e.sent,window.location.href="/view/downloads/".concat(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(U.jsx)(k.a,{theme:D,children:Object(U.jsx)("div",{className:"Converter",children:Object(U.jsx)(A,{onConvert:function(t,n){return e.apply(this,arguments)}})})})},T=n(25),F=n(208),M=n(203),P=n(199),q=n(210),z=n(211),B=n(209),H=n(97),J=n.n(H),Q=n(98),V=n.n(Q);function K(e){var t=c.a.useState([]),n=Object(C.a)(t,2),a=n[0],r=n[1],o=c.a.useState([]),i=Object(C.a)(o,2),s=i[0],u=i[1],l=function(e){return function(){if(s.includes(e)){var t=Object(T.a)(s);t.splice(s.indexOf(e),1),u(t)}else{var n=Object(T.a)(s);n.push(e),u(n)}}},p=function(e){return function(){var t=function(e){return"".concat(f,"/downloads/").concat(e)}(e);window.open(t)}},b=function(e){return Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:O().then((function(e){return r(e)}));case 3:case"end":return t.stop()}}),t)})))};return c.a.useEffect((function(){O().then((function(e){return r(e)}))}),[]),0===a.length?Object(U.jsx)("div",{className:"NoDownloads",children:"No downloads available yet. \ud83e\udd37"}):Object(U.jsx)("div",{className:"DownloadsWrapper",children:Object(U.jsx)(F.a,{sx:{width:"100%",maxWidth:360,bgcolor:"#c1ffebbf"},children:a.map((function(e){return Object(U.jsx)(M.a,{secondaryAction:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(B.a,{"aria-label":"download",onClick:p(e),children:Object(U.jsx)(J.a,{})}),Object(U.jsx)(B.a,{"aria-label":"delete",onClick:b(e),children:Object(U.jsx)(V.a,{})})]}),disablePadding:!0,children:Object(U.jsxs)(P.a,{role:void 0,onClick:l(e),dense:!0,children:[Object(U.jsx)(q.a,{children:Object(U.jsx)(E.a,{edge:"start",checked:s.includes(e),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":e}})}),Object(U.jsx)(z.a,{id:e,primary:e})]})},e)}))})})}var X=n(200),G=n.p+"static/media/loadcat.1a586006.gif";var Y=function(){var e=Object(u.g)().downloadId,t=c.a.useState(null),n=Object(C.a)(t,2),a=n[0],r=n[1];c.a.useEffect((function(){var t=setInterval((function(){e&&function(e){return x.apply(this,arguments)}(e).then((function(e){return r(e)}))}),1e3);return function(){return clearInterval(t)}}),[e]);var o=(null===a||void 0===a?void 0:a.is_playlist)?"".concat(a.info,"  ").concat(a.playlist_index,"/").concat(a.playlist_count):(null===a||void 0===a?void 0:a.info)?"".concat(null===a||void 0===a?void 0:a.info," "):"Loading",i=(null===a||void 0===a?void 0:a.size)?"".concat(null===a||void 0===a?void 0:a.size," "):"0";return c.a.useEffect((function(){"finished"===(null===a||void 0===a?void 0:a.status)&&(window.location.href="/view/downloads")}),[a]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"LoadingWrapper",children:[Object(U.jsx)("img",{src:G,alt:"loading_cat",className:"LoadingCat"}),Object(U.jsxs)("div",{className:"LoadingText",children:[o||"Loading",", converting ",i||"0","MB"]})]}),Object(U.jsx)(X.a,{style:{margin:"10%",width:"80%"}})]})};var Z=function(){return Object(U.jsxs)("header",{className:"Header",children:[Object(U.jsx)(s.b,{to:"/",children:"Home"}),Object(U.jsx)(s.b,{to:"/view/in_progress",children:"In progress"}),Object(U.jsx)(s.b,{to:"/view/downloads",children:"Downloads"})]})};var $=function(){return Object(U.jsx)("div",{className:"AppWrapper",children:Object(U.jsx)("div",{className:"App",children:Object(U.jsxs)(s.a,{children:[Object(U.jsx)(Z,{}),Object(U.jsxs)(u.c,{children:[Object(U.jsx)(u.a,{path:"",element:Object(U.jsx)(R,{})}),Object(U.jsx)(u.a,{path:"/view/downloads",element:Object(U.jsx)(K,{})}),Object(U.jsx)(u.a,{path:"/view/downloads/:downloadId",element:Object(U.jsx)(Y,{})})]})]})})})};i.a.render(Object(U.jsx)(c.a.StrictMode,{children:Object(U.jsx)($,{})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.5b29a456.chunk.js.map